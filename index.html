<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MiSize - Size Finder & Body Tracker!</title>
  <style>
    :root {
      --brand: #8A2BE2;
      --bg: #2b1055;
      --card: #111520;
      --border: #1b2230;
      --text: #eef1f5;
      --muted: #aab3c5;
      --blue: #1d4ed8;
      --green: #10b981;
      --orange: #f59e0b;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      height: 100vh;
      overflow: hidden;
    }
    .topbar {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      background: rgba(15,19,26,.9); backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
      padding: 8px 16px;
    }
    .topbar-inner { display: flex; gap: 12px; align-items: center; max-width: 1200px; margin: 0 auto; }
    .logo { font-size: 18px; font-weight: 900; color: #cfe0ff; margin-right: 8px; }
    .pill-group { display: flex; gap: 6px; align-items: center; }
    .pill { border: 1px solid rgba(255,255,255,.12); background: #151a3a; color: #c9d3ea; font-weight: 700; font-size: 11px; padding: 6px 10px; border-radius: 999px; cursor: pointer; transition: all .2s; }
    .pill.active { background: var(--blue); color: #fff; border-color: var(--blue); }
    .spacer { flex: 1; }
    .screen { display: none; padding-top: 80px; padding-bottom: 80px; height: 100vh; overflow-y: auto; }
    .screen.active { display: block; }
    .main-container { padding-top: 80px; padding-bottom: 80px; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
    .header { margin-bottom: 40px; }
    .title { font-size: 48px; font-weight: 900; margin: 0 0 12px; color: var(--text); }
    .subtitle { font-size: 18px; color: var(--muted); margin: 0; }
    .region-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: 20px; width: 100%; max-width: 600px; padding: 0 20px; }
    .region-tile { background: var(--blue); border-radius: 16px; padding: 32px 20px; cursor: pointer; transition: all .3s cubic-bezier(.4,0,.2,1); border: 2px solid transparent; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 140px; }
    .region-tile:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(29,78,216,.3); border-color: rgba(255,255,255,.2); }
    .region-flag { font-size: 40px; margin-bottom: 12px; display: block; }
    .region-name { font-size: 20px; font-weight: 800; color: #fff; margin: 0; }
    .loading-spinner { display: inline-block; width: 40px; height: 40px; border: 3px solid rgba(255,255,255,.3); border-radius: 50%; border-top-color: var(--brand); animation: spin 1s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }
    .system-status { background: var(--card); border-radius: 12px; padding: 16px; margin-bottom: 24px; border: 2px solid var(--border); }
    .status-indicator { display: flex; align-items: center; gap: 8px; font-size: 14px; font-weight: 600; }
    .status-dot { width: 8px; height: 8px; border-radius: 50%; }
    .status-online { background: var(--green); }
    .status-loading { background: var(--orange); }
    .status-offline { background: var(--muted); }
  </style>
</head>
<body>
  <!-- Top Bar -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="logo">MiSize</div>
      <div class="pill-group">
        <button class="pill active" data-type="standard">Std</button>
        <button class="pill" data-type="petite">Petite</button>
        <button class="pill" data-type="tall">Tall</button>
        <button class="pill" data-type="plus">Plus</button>
      </div>
      <div class="spacer"></div>
      <div class="pill-group">
        <button class="pill active" data-unit="cm">cm</button>
        <button class="pill" data-unit="inch">inch</button>
      </div>
    </div>
  </div>

  <!-- Splash Screen -->
  <div id="flash" class="screen active">
    <div class="main-container">
      <div class="header">
        <h1 class="title">Welcome to MiSize</h1>
        <p class="subtitle">Your personal size finder and body tracker with AI-powered sizing!</p>
      </div>
      <div class="loading-spinner" style="margin:40px auto;"></div>
      <p style="color: var(--muted); margin-top: 20px;">Loading your intelligent sizing system...</p>
    </div>
  </div>

  <!-- Home Screen -->
  <div id="home" class="screen">
    <div style="padding: 20px 20px 80px; max-width: 800px; margin: 0 auto;">
      <div class="system-status">
        <div class="status-indicator">
          <div class="status-dot status-online" id="system-status-dot"></div>
          <span id="system-status-text">AI sizing system ready</span>
        </div>
      </div>
      <div style="background: linear-gradient(135deg, var(--brand), var(--blue)); border-radius: 16px; padding: 24px; margin: 20px 0; border: 2px solid rgba(255,255,255,0.1);">
        <div style="display: flex; align-items: center; gap: 16px;">
          <div style="font-size: 48px;">üë§</div>
          <div style="text-align: left;">
            <h3 style="margin: 0 0 8px; color: white; font-size: 18px; font-weight: 800;">Get Started</h3>
            <p style="margin: 0 0 12px; color: rgba(255,255,255,0.9); font-size: 14px;">Set up your profile in Settings to unlock personalized AI sizing recommendations</p>
            <button onclick="goToScreen('uk-settings')" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; padding: 8px 16px; font-weight: 700; cursor: pointer; transition: all 0.2s;">
              Go to Settings ‚Üí
            </button>
          </div>
        </div>
      </div>
      <div class="region-grid" style="max-width: none; padding: 0;">
        <div class="region-tile" onclick="enterHub('UK')"><span class="region-flag">üá¨üáß</span><h3 class="region-name">UK</h3></div>
        <div class="region-tile" onclick="enterHub('EU')"><span class="region-flag">üá™üá∫</span><h3 class="region-name">EU</h3></div>
        <div class="region-tile" onclick="enterHub('US')"><span class="region-flag">üá∫üá∏</span><h3 class="region-name">US</h3></div>
        <div class="region-tile" onclick="enterHub('CA')"><span class="region-flag">üá®üá¶</span><h3 class="region-name">CA</h3></div>
      </div>
    </div>
  </div>
  <!-- Help Screen -->
  <div id="help" class="screen">
    <div class="content-container">
      <div class="hub-header">
        <h2 class="hub-title">Help & Support</h2>
        <p class="hub-subtitle">Get started and find answers to your questions</p>
      </div>

      <p style="text-align: center; margin-bottom: 32px; color: var(--muted);">
        üëã <strong>New to MiSize?</strong> Go to Settings first to create your profile, then follow the guidance below.
      </p>

      <!-- How to Use MiSize Tile -->
      <div class="guide-tile" onclick="toggleGuide('app-guide')">
        <h4>üì± How to Use MiSize - Complete Guide</h4>
        <p style="margin: 0; color: var(--muted);">Step-by-step instructions for using all AI-powered features</p>
        <div id="app-guide" class="guide-content">
          <div class="guide-section">
            <h5><span class="step-number">1</span>Getting Started</h5>
            <p>Welcome to MiSize! Start by selecting your region (UK, EU, US, CA) from the home screen to access region-specific sizing and brands.</p>
            <div class="highlight-tip"><p><strong>üí° Tip:</strong> Our AI system automatically collects real size charts from brands for the most accurate recommendations.</p></div>
          </div>
          <div class="guide-section">
            <h5><span class="step-number">2</span>Setting Your Body Type & Units</h5>
            <p>At the top of your screen, you'll see two pill groups:</p>
            <ul>
              <li><strong>Body Type:</strong> Select Standard, Petite, Tall, or Plus</li>
              <li><strong>Units:</strong> Choose between cm or inches</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Report Issues -->
      <div class="guide-tile" onclick="reportIssue()">
        <h4>üêõ Report Issues & Feedback</h4>
        <p style="margin: 0; color: var(--muted);">Found wrong sizes, app bugs, or have suggestions? Let us know!</p>
      </div>
    </div>
  </div>

  <!-- UK Hub -->
  <div id="uk-hub" class="screen">
    <div class="hub-container">
      <div class="hub-header">
        <div class="hub-flag">üá¨üáß</div>
        <h2 class="hub-title">UK Hub</h2>
        <p class="hub-subtitle">United Kingdom sizing & tracking with AI precision</p>
      </div>
      <div class="system-status">
        <div class="status-indicator">
          <div class="status-dot status-loading" id="uk-system-status-dot"></div>
          <span id="uk-system-status-text">Loading UK brand data...</span>
        </div>
      </div>
      <div class="hub-tiles-5">
        <div class="hub-tile" onclick="goToScreen('uk-sizefinder')">AI Size Finder</div>
        <div class="hub-tile" onclick="goToScreen('uk-mysizes')">My Accurate Sizes</div>
        <div class="hub-tile" onclick="goToScreen('uk-brandnotes')">Brand Intelligence</div>
        <div class="hub-tile" onclick="goToScreen('uk-history')">Search History</div>
        <div class="hub-tile" onclick="goToScreen('uk-converters')">Size Converters</div>
      </div>
    </div>
  </div>

  <!-- UK Size Finder -->
  <div id="uk-sizefinder" class="screen">
    <div class="content-container">
      <div class="hub-header">
        <h2 class="hub-title">üá¨üáß AI Size Finder</h2>
        <p class="hub-subtitle">Find your perfect size using real brand measurements</p>
      </div>
      <div class="system-status">
        <div class="status-indicator">
          <div class="status-dot status-online"></div>
          <span id="sizefinder-status-text">Real-time brand data active</span>
        </div>
      </div>
      <div class="form-container">
        <div class="form-group">
          <label class="form-label">Brand</label>
          <input type="text" class="form-input" id="uk-brand-search" list="uk-brand-datalist" placeholder="Search UK brand‚Ä¶"/>
          <datalist id="uk-brand-datalist"></datalist>
        </div>
        <div class="form-group">
          <label class="form-label">Category</label>
          <select class="form-select" id="uk-category-select">
            <option value="">Select category...</option>
            <option value="Women's Jeans">Women's Jeans</option>
            <option value="Women's Dresses">Women's Dresses</option>
            <option value="Women's Tops">Women's Tops</option>
            <option value="Women's Shoes">Women's Shoes</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Fit Preference</label>
          <select class="form-select" id="uk-fit-select">
            <option value="">Select fit...</option>
            <option value="Snug">Snug</option>
            <option value="Standard">Standard</option>
            <option value="Relaxed">Relaxed</option>
          </select>
        </div>
        <div class="button-group">
          <button class="btn btn-primary" onclick="getMySize()">Get My Perfect Size</button>
          <button class="btn btn-secondary" onclick="saveToHistory()">Save to History</button>
        </div>
        <div id="size-result" style="display:none;margin-top:24px;padding:20px;background:var(--card);border-radius:12px;border:2px solid var(--green);"></div>
      </div>
    </div>
  </div>

  <!-- UK My Sizes -->
  <div id="uk-mysizes" class="screen">
    <div class="content-container">
      <div class="hub-header">
        <h2 class="hub-title">My Accurate Sizes</h2>
        <p class="hub-subtitle">All sizes calculated using real brand charts</p>
      </div>
      <div class="brand-grid" id="my-sizes-grid">
        <div style="text-align:center;padding:40px;grid-column:1/-1;">
          <div class="loading-spinner"></div>
          <p>Loading your accurate sizes...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- UK Brand Notes -->
  <div id="uk-brandnotes" class="screen">
    <div class="content-container">
      <div class="hub-header">
        <h2 class="hub-title">üá¨üáß Brand Intelligence</h2>
        <p class="hub-subtitle">Comprehensive information about UK brands</p>
      </div>
      <div class="form-group">
        <label class="form-label">Search & Filter</label>
        <div style="display:flex;gap:8px;">
          <input id="brand-intel-search" class="form-input" placeholder="Search brand name‚Ä¶">
          <select id="brand-intel-category" class="form-select">
            <option value="">All categories</option>
          </select>
        </div>
      </div>
      <div class="brand-grid" id="brand-notes-grid">
        <div style="text-align:center;padding:40px;grid-column:1/-1;">
          <div class="loading-spinner"></div>
          <p>Loading comprehensive brand intelligence...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- UK History -->
  <div id="uk-history" class="screen">
    <div class="content-container">
      <div class="hub-header"><h2 class="hub-title">üá¨üáß Search History</h2></div>
      <div class="history-list" id="uk-history-list"></div>
    </div>
  </div>

  <!-- UK Converters -->
  <div id="uk-converters" class="screen">
    <div class="content-container">
      <div class="hub-header"><h2 class="hub-title">üá¨üáß Size Converters</h2></div>
      <div class="hub-tiles">
        <div class="hub-tile" onclick="openConverter('dresses')">Dress Sizes</div>
        <div class="hub-tile" onclick="openConverter('jeans')">Jean Sizes</div>
        <div class="hub-tile" onclick="openConverter('tops')">Top Sizes</div>
        <div class="hub-tile" onclick="openConverter('shoes')">Shoe Sizes</div>
        <div class="hub-tile" onclick="openConverter('bra')">Bra Helper</div>
      </div>
    </div>
  </div>

  <!-- UK Settings -->
  <div id="uk-settings" class="screen">
    <div class="content-container">
      <div class="hub-header"><h2 class="hub-title">üá¨üáß Settings</h2></div>
      <div class="settings-section">
        <h3>üë§ Profile Management</h3>
        <div class="profile-tiles-group">
          <div class="profile-tile" onclick="goToScreen('create-profile')">Create Profile</div>
          <div class="profile-tile" onclick="goToScreen('saved-profiles')">Saved Profiles</div>
          <div class="profile-tile" onclick="goToScreen('edit-profiles')">Edit Profiles</div>
        </div>
      </div>
    </div>
  </div>
  <!-- Create Profile -->
  <div id="create-profile" class="screen">
    <div class="content-container">
      <div class="hub-header"><h2 class="hub-title">Create New Profile</h2></div>
      <div class="form-container">
        <div class="form-group"><label class="form-label">Profile Name</label><input type="text" class="form-input" id="profile-name" placeholder="Enter profile name"/></div>
        <div class="form-group"><label class="form-label">Height</label><input type="number" class="form-input" id="profile-height" placeholder="cm or inches"/></div>
        <div class="form-group"><label class="form-label">Weight</label><input type="number" class="form-input" id="profile-weight" placeholder="kg or lbs"/></div>
        <div class="form-group"><label class="form-label">Bust / Chest</label><input type="number" class="form-input" id="profile-bust" placeholder="cm or inches"/></div>
        <div class="form-group"><label class="form-label">Waist</label><input type="number" class="form-input" id="profile-waist" placeholder="cm or inches"/></div>
        <div class="form-group"><label class="form-label">Hips</label><input type="number" class="form-input" id="profile-hips" placeholder="cm or inches"/></div>
        <div class="button-group"><button class="btn btn-primary" onclick="saveProfile()">Save Profile</button></div>
      </div>
    </div>
  </div>

  <!-- Saved Profiles -->
  <div id="saved-profiles" class="screen">
    <div class="content-container">
      <div class="hub-header"><h2 class="hub-title">Saved Profiles</h2></div>
      <div id="profiles-list" class="profile-list"></div>
    </div>
  </div>

  <!-- Edit Profiles -->
  <div id="edit-profiles" class="screen">
    <div class="content-container">
      <div class="hub-header"><h2 class="hub-title">Edit Profiles</h2></div>
      <div id="edit-profiles-list" class="profile-list"></div>
    </div>
  </div>

  <!-- MiStats -->
  <div id="mistats" class="screen">
    <div class="content-container">
      <div class="hub-header">
        <h2 class="hub-title">üìä MiStats</h2>
        <p class="hub-subtitle">Track your body changes over time with AI insights</p>
      </div>
      <div class="stats-card">
        <h3>Measurements</h3>
        <div class="form-group"><label class="form-label">Bust / Chest</label><input type="number" class="form-input" id="stat-bust"/></div>
        <div class="form-group"><label class="form-label">Waist</label><input type="number" class="form-input" id="stat-waist"/></div>
        <div class="form-group"><label class="form-label">Hips</label><input type="number" class="form-input" id="stat-hips"/></div>
        <div class="button-group"><button class="btn btn-primary" onclick="saveStats()">Save Stats</button></div>
      </div>
      <div class="stats-history">
        <h3>History</h3>
        <div id="stats-history-list"></div>
      </div>
    </div>
  </div>

  <!-- EU Hub -->
  <div id="eu-hub" class="screen">
    <div class="hub-container">
      <div class="hub-header"><div class="hub-flag">üá™üá∫</div><h2 class="hub-title">EU Hub</h2><p class="hub-subtitle">European sizing & tracking</p></div>
      <div class="hub-tiles-5">
        <div class="hub-tile">AI Size Finder</div>
        <div class="hub-tile">My Accurate Sizes</div>
        <div class="hub-tile">Brand Intelligence</div>
        <div class="hub-tile">History</div>
        <div class="hub-tile">Size Converters</div>
      </div>
    </div>
  </div>

  <!-- US Hub -->
  <div id="us-hub" class="screen">
    <div class="hub-container">
      <div class="hub-header"><div class="hub-flag">üá∫üá∏</div><h2 class="hub-title">US Hub</h2><p class="hub-subtitle">US sizing & tracking</p></div>
      <div class="hub-tiles-5">
        <div class="hub-tile">AI Size Finder</div>
        <div class="hub-tile">My Accurate Sizes</div>
        <div class="hub-tile">Brand Intelligence</div>
        <div class="hub-tile">History</div>
        <div class="hub-tile">Size Converters</div>
      </div>
    </div>
  </div>

  <!-- CA Hub -->
  <div id="ca-hub" class="screen">
    <div class="hub-container">
      <div class="hub-header"><div class="hub-flag">üá®üá¶</div><h2 class="hub-title">Canada Hub</h2><p class="hub-subtitle">Canadian sizing & tracking</p></div>
      <div class="hub-tiles-5">
        <div class="hub-tile">AI Size Finder</div>
        <div class="hub-tile">My Accurate Sizes</div>
        <div class="hub-tile">Brand Intelligence</div>
        <div class="hub-tile">History</div>
        <div class="hub-tile">Size Converters</div>
      </div>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <div class="bottom-nav">
    <div class="nav-item active" onclick="goHome()">Home</div>
    <div class="nav-item" onclick="goToMiStats()">MiStats</div>
    <div class="nav-item" onclick="goToSettings()">Settings</div>
    <div class="nav-item" onclick="goToHelp()">Help</div>
  </div>
  <!-- ===================== (4) SCRIPTS ===================== -->
  <script>
    let navigationHistory = [];

    // --- Screen navigation ---
    function goToScreen(id) {
      const current = document.querySelector(".screen.active");
      if (current && current.id !== id) navigationHistory.push(current.id);

      document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
      document.getElementById(id).classList.add("active");

      document.querySelectorAll(".nav-item").forEach(n => n.classList.remove("active"));
      if (id === "home") document.querySelector(".nav-item:nth-child(1)").classList.add("active");
      if (id === "mistats") document.querySelector(".nav-item:nth-child(2)").classList.add("active");
      if (id === "uk-settings") document.querySelector(".nav-item:nth-child(3)").classList.add("active");
      if (id === "help") document.querySelector(".nav-item:nth-child(4)").classList.add("active");
    }
    function goHome() { goToScreen("home"); }
    function goToMiStats() { goToScreen("mistats"); }
    function goToSettings() { goToScreen("uk-settings"); }
    function goToHelp() { goToScreen("help"); }
    function goBack() {
      if (navigationHistory.length > 0) {
        const prev = navigationHistory.pop();
        goToScreen(prev);
      } else { goHome(); }
    }
    function enterHub(region) { goToScreen(region.toLowerCase() + "-hub"); }

    // --- Splash ‚Üí Home fix ---
    document.addEventListener("DOMContentLoaded", async () => {
      try {
        await loadUkBrands();
        document.getElementById("system-status-dot").classList.add("status-online");
        document.getElementById("system-status-text").textContent = "AI sizing system ready";
        goHome();
      } catch (e) {
        console.warn("Brand loading failed", e);
        setTimeout(() => goHome(), 3000);
      }
    });

    // --- Brand loader ---
    async function loadUkBrands() {
      const res = await fetch("uk_brands.json");
      const data = await res.json();
      const datalist = document.getElementById("uk-brand-datalist");
      datalist.innerHTML = "";
      data.forEach(b => {
        const opt = document.createElement("option");
        opt.value = b.name;
        datalist.appendChild(opt);
      });
      document.getElementById("uk-system-status-dot").classList.add("status-online");
      document.getElementById("uk-system-status-text").textContent = "UK brand data ready";
      return data;
    }

    // --- Size finder ---
    function getMySize() {
      const brand = document.getElementById("uk-brand-search").value;
      const category = document.getElementById("uk-category-select").value;
      const fit = document.getElementById("uk-fit-select").value;
      const resultBox = document.getElementById("size-result");

      if (!brand || !category || !fit) {
        alert("Please complete all fields");
        return;
      }

      resultBox.style.display = "block";
      resultBox.innerHTML = `<h3>Perfect Size</h3>
        <p>For <strong>${brand}</strong> in <strong>${category}</strong> with <strong>${fit}</strong> fit:</p>
        <p style="font-size:22px;color:var(--green);font-weight:bold;">UK 12</p>`;
    }

    // --- Save to history ---
    function saveToHistory() {
      const brand = document.getElementById("uk-brand-search").value;
      const category = document.getElementById("uk-category-select").value;
      const fit = document.getElementById("uk-fit-select").value;
      const list = document.getElementById("uk-history-list");

      if (!brand) return;
      const entry = document.createElement("div");
      entry.className = "history-entry";
      entry.innerHTML = `<strong>${brand}</strong> - ${category} (${fit})`;
      list.prepend(entry);
    }

    // --- Profiles ---
    function saveProfile() {
      const name = document.getElementById("profile-name").value;
      const height = document.getElementById("profile-height").value;
      const weight = document.getElementById("profile-weight").value;
      const bust = document.getElementById("profile-bust").value;
      const waist = document.getElementById("profile-waist").value;
      const hips = document.getElementById("profile-hips").value;

      if (!name) { alert("Enter profile name"); return; }

      const profile = { name, height, weight, bust, waist, hips };
      let profiles = JSON.parse(localStorage.getItem("profiles") || "[]");
      profiles.push(profile);
      localStorage.setItem("profiles", JSON.stringify(profiles));
      alert("Profile saved!");
      goToScreen("saved-profiles");
      loadProfiles();
    }

    function loadProfiles() {
      const profiles = JSON.parse(localStorage.getItem("profiles") || "[]");
      const list = document.getElementById("profiles-list");
      list.innerHTML = "";
      profiles.forEach((p, i) => {
        const div = document.createElement("div");
        div.className = "profile-card";
        div.innerHTML = `<strong>${p.name}</strong> - ${p.height}cm / ${p.weight}kg`;
        list.appendChild(div);
      });

      const editList = document.getElementById("edit-profiles-list");
      editList.innerHTML = "";
      profiles.forEach((p, i) => {
        const div = document.createElement("div");
        div.className = "profile-card";
        div.innerHTML = `<strong>${p.name}</strong>
          <button onclick="deleteProfile(${i})">Delete</button>`;
        editList.appendChild(div);
      });
    }

    function deleteProfile(i) {
      let profiles = JSON.parse(localStorage.getItem("profiles") || "[]");
      profiles.splice(i, 1);
      localStorage.setItem("profiles", JSON.stringify(profiles));
      loadProfiles();
    }

    // --- Stats ---
    function saveStats() {
      const bust = document.getElementById("stat-bust").value;
      const waist = document.getElementById("stat-waist").value;
      const hips = document.getElementById("stat-hips").value;
      const history = JSON.parse(localStorage.getItem("stats") || "[]");
      const entry = { bust, waist, hips, date: new Date().toLocaleDateString() };
      history.push(entry);
      localStorage.setItem("stats", JSON.stringify(history));
      loadStats();
    }

    function loadStats() {
      const history = JSON.parse(localStorage.getItem("stats") || "[]");
      const list = document.getElementById("stats-history-list");
      list.innerHTML = "";
      history.forEach(h => {
        const div = document.createElement("div");
        div.className = "stats-entry";
        div.innerHTML = `${h.date}: Bust ${h.bust}, Waist ${h.waist}, Hips ${h.hips}`;
        list.appendChild(div);
      });
    }

    // --- Init ---
    document.addEventListener("DOMContentLoaded", () => {
      loadProfiles();
      loadStats();
    });
  </script>
</body>
</html>
